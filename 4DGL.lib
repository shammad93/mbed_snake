http://mbed.org/users/AdamGreen/code/4DGL/#d6e186427f3e
